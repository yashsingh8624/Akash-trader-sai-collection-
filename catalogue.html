<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Catalogue | Akash Traders & Sai Collection</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- ===== IMAGE PREVIEW POPUP ===== -->
<div id="imgPreview" class="img-preview" onclick="closeImage()">
  <img id="previewImg" alt="Preview">
</div>

<!-- ===== HEADER (Updated to match index.html) ===== -->
<header>
  <div class="header-container">
    <div class="logo-section">
      <img src="https://res.cloudinary.com/dhsq8cphw/image/upload/v1767162184/image_cfl3ws.png" alt="Akash Traders Logo" class="logo">
      <span class="site-name">Akash Traders & Sai Collection</span>
    </div>
    <nav class="top-nav">
      <a href="index.html">ğŸ  Home</a>
      <a href="catalogue.html" class="active">ğŸ“‚ Catalogue</a>
      <a href="contact.html">ğŸ“ Contact</a>
      <span class="cart" onclick="openCart()">ğŸ›’ <span id="cartCount">0</span></span>
    </nav>
  </div>
</header>

<!-- ===== HERO CATALOGUE SECTION ===== -->
<main class="catalogue-hero">
  <div class="hero-overlay">
    <div class="hero-content">
      <h2 class="catalogue-title">Our Premium Collection</h2>
      <p class="catalogue-subtitle">Wholesale & Retail | Jeans â€¢ Jackets â€¢ Rainwear â€¢ Seasonal Fashion</p>
    </div>
  </div>
</main>

<!-- ===== FILTERS (Enhanced) ===== -->
<div class="filter-section">
  <div class="filter-container">
    <button class="filter-btn active" onclick="filtersSeason('all')">All Products</button>
    <button class="filter-btn" onclick="filtersSeason('summer')">â˜€ï¸ Summer</button>
    <button class="filter-btn" onclick="filtersSeason('winter')">â„ï¸ Winter</button>
    <button class="filter-btn" onclick="filtersSeason('rainy')">ğŸŒ§ï¸ Rainy</button>
  </div>
</div>

<!-- ===== PRODUCTS GRID ===== -->
<div id="products" class="product-grid">
  <!-- Products JS se yahin aayenge -->
</div>

<!-- ===== LOAD MORE SECTION ===== -->
<div class="load-more-section" style="display:none;">
  <button class="load-more-btn" onclick="loadMoreProducts()">Load More Products</button>
</div>

<!-- ===== CART POPUP (Enhanced) ===== -->
<div id="cartPopup" class="cart-popup">
  <div class="cart-box">
    <div class="cart-header">
      <h3>ğŸ›’ Your Shopping Cart</h3>
      <span class="close-cart" onclick="closeCart()">&times;</span>
    </div>

    <div id="cartItems" class="cart-items-list"></div>

    <div class="cart-footer">
      <h4 id="cartTotal">Total: â‚¹0</h4>
      <button class="order-btn whatsapp-order" onclick="orderOnWhatsApp()">
        ğŸ’¬ Order on WhatsApp
      </button>
    </div>
  </div>
</div>

<!-- ===== JS (Enhanced but same functions) ===== -->
<script src="google script.js"></script>
<script>
  // ===== IMAGE PREVIEW FUNCTIONS =====
  function openImage(url){
    document.getElementById("previewImg").src = url;
    document.getElementById("imgPreview").style.display = "flex";
    document.body.style.overflow = "hidden";
  }

  function closeImage(){
    document.getElementById("imgPreview").style.display = "none";
    document.body.style.overflow = "auto";
  }

  // ===== ENHANCED RENDER PRODUCTS FUNCTION =====
  function renderProducts(list) {
    const div = document.getElementById("products");
    div.innerHTML = "";

    if(list.length === 0){
      div.innerHTML = `
        <div class="no-products">
          <h3>No products found ğŸ˜”</h3>
          <p>Try different filter or contact us!</p>
          <a href="https://wa.me/918624091826" class="contact-wa">ğŸ’¬ Contact WhatsApp</a>
        </div>
      `;
      return;
    }

    list.forEach((item, index) => {
      div.innerHTML += `
        <div class="product-card catalogue-product" data-season="${item.season || 'all'}">
          <div class="product-image-container">
            <img src="${item.image_url}" alt="${item.name}" 
                 onclick="openImage('${item.image_url}')"
                 loading="lazy">
            <div class="product-badge">${item.category || 'New'}</div>
          </div>
          <div class="product-info">
            <h3>${item.name}</h3>
            <div class="product-price">â‚¹${item.price}</div>
            <div class="product-qty">
              <button class="qty-btn" onclick="changeQty('${item.id}', -1)">âˆ’</button>
              <input id="qty-${item.id}" type="number" value="1" min="1" max="99">
              <button class="qty-btn" onclick="changeQty('${item.id}', 1)">+</button>
            </div>
            <button class="add-cart-btn" onclick="addToCart('${item.id}')">
              ğŸ›’ Add to Cart
            </button>
          </div>
        </div>
      `;
    });

    // Add load more visibility
    const loadMore = document.querySelector('.load-more-section');
    if(list.length >= 12) {
      loadMore.style.display = 'block';
    }
  }

  // Filter button active state
  function filtersSeason(season) {
    // Existing filter logic + UI update
    document.querySelectorAll('.filter-btn').forEach(btn => {
      btn.classList.remove('active');
    });
    event.target.classList.add('active');
    
    // Call original filter function
    window.filtersSeason(season); // Assuming it's in google script.js
  }
</script>

</body>
</html>